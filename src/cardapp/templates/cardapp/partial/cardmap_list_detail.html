{% extends 'cardapp/partial/common_list_detail.html' %}

{% block edit_object %}
    {% if user.is_authenticated and object.author == user %}
    <a class="btn btn-block btn-success" href="{% url 'cardapp:cardmap_edit_metadata' pk=object.pk %}">
        <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
        Edit this card map
    </a>
    <a class="btn btn-block btn-danger" href="{% url 'cardapp:cardmap_delete' pk=object.pk %}">
        <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
        Delete this card map
    </a>
    {% endif %}
{% endblock %}

{% block specific_metadata %}
<tr>
    <th>
        <span class="glyphicon glyphicon-folder-open" aria-hidden="true"></span>
    </th>
    <td>Based on deck <a href="{% url 'cardapp:deck_detail' pk=object.deck.pk %}">{{object.deck.title}}</a></td>
</tr>
<tr>
    <th>
        <span class="glyphicon glyphicon-modal-window" aria-hidden="true"></span>
    </th>
    <td>{{object.cardoncardmap_set.count}} card(s) on this map</td>
</tr>
<tr>
    <th>
        <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
    </th>
    <td>{{object.annotationoncardmap_set.count}} annotations on this map</td>
</tr>
{% endblock %}